{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[17],{RNiq:function(t,e,n){\"use strict\";n.r(e),n.d(e,\"__N_SSP\",(function(){return h}));var a=n(\"q1tI\"),c=n.n(a),i=n(\"/MKj\"),o=n(\"ODXe\"),r=n(\"Vl3Y\"),l=n(\"5rEg\"),u=n(\"2/Rp\"),s=n(\"p+NB\"),d=n(\"3zrx\"),f=c.a.createElement,p=function(){var t=Object(i.b)(),e=Object(d.a)(\"\"),n=Object(o.a)(e,3),c=n[0],p=n[1],m=n[2],b=Object(i.c)((function(t){return t.post})),g=b.imagePaths,h=b.addPostLoading,v=b.addPostDone,w=Object(a.useRef)(),E=Object(a.useCallback)((function(){w.current.click()}),[w.current]);Object(a.useEffect)((function(){v&&m(\"\")}),[v]);var O=Object(a.useCallback)((function(){if(!c||!c.trim())return alert(\"\\uac8c\\uc2dc\\uae00\\uc744 \\uc791\\uc131\\ud558\\uc138\\uc694.\");var e=new FormData;return g.forEach((function(t){e.append(\"image\",t)})),e.append(\"content\",c),t({type:s.e,data:e})}),[c,g]),j=Object(a.useCallback)((function(e){console.log(\"images\",e.target.files);var n=new FormData;[].forEach.call(e.target.files,(function(t){n.append(\"image\",t)})),t({type:s.G,data:n})})),y=Object(a.useCallback)((function(e){return function(){t({type:s.v,data:e})}}));return f(r.a,{style:{margin:\"10px 0 20px\"},encType:\"multipart/form-data\",onFinish:O},f(l.a.TextArea,{maxLength:140,placeholder:\"\\uc5b4\\ub5a4 \\uc2e0\\uae30\\ud55c \\uc77c\\uc774 \\uc788\\uc5c8\\ub098\\uc694?\",value:c,onChange:p}),f(\"div\",null,f(\"input\",{type:\"file\",name:\"image\",multiple:!0,hidden:!0,ref:w,onChange:j}),f(u.a,{onClick:E},\"\\uc774\\ubbf8\\uc9c0 \\uc5c5\\ub85c\\ub4dc\"),f(u.a,{type:\"primary\",style:{float:\"right\"},htmlType:\"submit\",loading:h},\"\\uc9f9\\uc9f9\")),f(\"div\",null,g.map((function(t,e){return f(\"div\",{key:t,style:{display:\"inline-block\"}},f(\"img\",{src:\"http://localhost:3065/\".concat(t),style:{width:\"200px\"},alt:t}),f(\"div\",null,f(u.a,{onClick:y(e)},\"\\uc81c\\uac70\")))}))))},m=n(\"kduo\"),b=n(\"1zst\"),g=c.a.createElement,h=!0;e.default=function(){var t=Object(i.b)(),e=Object(i.c)((function(t){return t.user})).me,n=Object(i.c)((function(t){return t.post})),c=n.mainPosts,o=n.hasMorePosts,r=n.loadPostsLoading,l=n.retweetError;return Object(a.useEffect)((function(){l&&alert(l)}),[l]),Object(a.useEffect)((function(){function e(){if(window.pageYOffset+document.documentElement.clientHeight>document.documentElement.scrollHeight-300&&o&&!r){var e,n=null===(e=c[c.length-1])||void 0===e?void 0:e.id;t({type:s.n,lastId:n})}}return window.addEventListener(\"scroll\",e),function(){window.removeEventListener(\"scroll\",e)}}),[o,r,c]),g(b.a,null,e&&g(p,null),c.map((function(t){return g(m.a,{key:t.id,post:t})})))}},vlRD:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/\",function(){return n(\"RNiq\")}])}},[[\"vlRD\",1,2,6,8,0,3,4,5,7,9]]]);","map":{"version":3,"sources":["static/chunks/pages/index-8effbd656ba85445af2e.js"],"names":["_N_E","window","push","RNiq","module","__webpack_exports__","__webpack_require__","r","d","__N_SSP","react","react_default","n","es","slicedToArray","es_form","input","es_button","reducers_post","useInput","__jsx","a","createElement","components_PostForm","dispatch","Object","_useInput","_useInput2","text","onChangeText","setText","_useSelector","state","post","imagePaths","addPostLoading","addPostDone","imageInput","onClickImageUpload","current","click","onSubmit","trim","alert","formData","FormData","forEach","p","append","type","data","onChangeImages","e","console","log","target","files","imageFormData","call","f","onRemoveImage","index","style","margin","encType","onFinish","TextArea","maxLength","placeholder","value","onChange","name","multiple","hidden","ref","onClick","float","htmlType","loading","map","v","i","key","display","src","concat","width","alt","PostCard","AppLayout","pages_jsx","me","user","_useSelector2","mainPosts","hasMorePosts","loadPostsLoading","retweetError","onScroll","pageYOffset","document","documentElement","clientHeight","scrollHeight","_mainPosts","lastId","length","id","addEventListener","removeEventListener","vlRD","exports","__NEXT_P"],"mappings":"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"},"extractedComments":[]}